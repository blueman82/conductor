# Simple test plan to see GUARD Protocol in action
# Run with: conductor run test-guard.yaml --verbose

plan:
  metadata:
    feature_name: "GUARD Protocol Test"
  tasks:
    - task_number: 1
      type: component
      name: "Simple file read"
      agent: "golang-pro"
      files: ["README.md"]
      depends_on: []
      description: |
        Read the README.md file and summarize what Conductor does in one sentence.
      success_criteria:
        - "Outputs a one-sentence summary"
        - "Mentions multi-agent orchestration"
      status: "completed"
      execution_history:
        - attempt_number: "1"
          agent: python-pro
          verdict: GREEN
          agent_output: '{"errors":[],"files_modified":[],"output":"Conductor is an autonomous multi-agent orchestration CLI that executes implementation plans by spawning and managing multiple Claude Code agents in parallel waves, handling dependency resolution, quality control reviews with automatic retries, and adaptive learning from execution history.","status":"success","summary":"Read README.md and summarized Conductor''s purpose"}'
          qc_feedback: |-
            [code-reviewer] Task completed successfully. The agent read README.md and produced a clear one-sentence summary that accurately describes Conductor as a multi-agent orchestration CLI with dependency resolution, QC reviews, and adaptive learning.
            [python-pro] Task successfully completed. The agent read the README.md file and produced a one-sentence summary that accurately describes Conductor as a multi-agent orchestration CLI. Both success criteria are satisfied.
            [technical-writer] Agent successfully read README.md and produced a one-sentence summary that accurately describes Conductor. The summary correctly identifies Conductor as a "multi-agent orchestration CLI" and covers key features including parallel wave execution, dependency resolution, quality control reviews with retries, and adaptive learning. Both success criteria are satisfied.
          timestamp: "2025-12-21T14:35:42Z"
      completed_date: "2025-12-21"
    - task_number: 2
      type: component
      name: "Code exploration"
      agent: "golang-pro"
      files: ["internal/executor/guard.go"]
      depends_on: [1]
      description: |
        Read the guard.go file and list the three GUARD modes available.
      success_criteria:
        - "Lists block, warn, and adaptive modes"
        - "Explains what each mode does"
    - task_number: 3
      type: component
      name: "Configuration check"
      agent: "golang-pro"
      files: [".conductor/config.yaml"]
      depends_on: [1]
      description: |
        Read the config file and confirm GUARD is enabled.
      success_criteria:
        - "Confirms guard.enabled is true"
        - "Reports current mode setting"
      status: "in-progress"
